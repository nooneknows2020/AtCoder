# AtCoderのためのC++入門:データ構造編

## vector

```cpp
vector<型> 配列変数名;                    // 配列変数を宣言する
配列変数名 = { 要素1, 要素2, ... };       // 配列変数に値を代入する
vector<型> 配列変数名(要素数);            // 要素数で配列を初期化する
vector<型> 配列変数名(要素数, 初期値);    // 配列の各要素を初期値で初期化する

配列変数.at(i);                           // i番目の要素にアクセスする
配列変数.push_back(値);                   // 末尾に要素(値)を追加する
配列変数.pop_back();                      // 末尾の要素を削除する
配列変数.size();                          // 配列の要素数を取得する
```

ループを使って配列に値を代入する

```cpp
vector<int> vec(N);
for(int i = 0; i < N; i++){
  cin >> vec.at(i);
}
```

存在しない要素にアクセスしようとすると実行時エラーが発生する。

```cpp
vector<int> vec(3);
cout << vec.at(10) << "\n";
```

`配列変数[添字]`は、範囲外の添字を指定してしまったときに、エラーメッセージを表示しない。何が原因でプログラムが正しく動作しないのかが分かりにくいので、`配列変数.at(添字)`の書き方を使うようにすること。

### 範囲for文

コンテナと呼ばれるデータ型に対して使うことができる。

```cpp
for(配列の要素の型 変数名 : 配列変数){
  // 各要素に対する処理
}

vector<int> vec = { 1, 3, 1, 2, 5, 10 };
for(int x : vec){
  cout << x << "\n";
}
```

### 2次元配列

```cpp
vector<vector<要素の型>> 変数名(要素数1, vector<要素の型>(要素数2, 初期値));  // 2次元配列を宣言する
vector<vector<要素の型>> 変数名(要素数1, vector<要素の型>(要素数2));          // 初期値を省略して宣言する
変数名.at(i).at(j);                                                           // i行j列目へアクセスする
変数名.size();                                                                // 行の大きさを取得する
変数名.at(0).size();                                                          // 列の大きさを取得する
```

要素を指定して初期化する例

```cpp
vector<vector<int>> data = {
  { 7, 4, 0, 8 },
  { 2, 0, 3, 5 },
  { 6, 1, 7, 0 }
};
```

### 3次元配列

```cpp
vector<vector<vector<要素の型>>> 変数名(要素数1, vector<vector<要素の型>>(要素数2, vector<要素の型>(要素数3, 初期値))); // 3次元配列を宣言する
vector<vector<vector<要素の型>>> 変数名(要素数1, vector<vector<要素の型>>(要素数2, vector<要素の型>(要素数3)));         // 初期値を省略して宣言する
```

要素を指定して初期化する例

```cpp
vector<vector<vector<char>>> data = {
  {
    { '-', '-', '-' },
    { '-', 'x', '-' },
    { '-', 'o', '-' }
  },
  {
    { 'x', 'o', '-' },
    { '-', 'o', '-' },
    { 'x', '-', '-' }
  }
};
```

## pair

```cpp
pair<型1, 型2> 変数名;  // pairを宣言する
pair<型1, 型2> 変数名(値1, 値2);  // pairの初期値を指定して宣言する
変数名.first; // 1番目の値にアクセスする
変数名.second; // 2番目の値にアクセスする
make_pair(値1, 値2); // pairを生成する

型1 変数1;
型2 変数2;
tie(変数1, 変数2) = pair型の値; // pairを分解する
```

## tuple

```cpp
tuple<型1, 型2, 型3, (...)> 変数名; // tupleを宣言する
tuple<型1, 型2, 型3, (...)> 変数名(値1, 値2, 値3, ...); // tupleの初期値を指定して宣言する
get<K>(tuple型の変数);  // K(定数)番目にアクセスする
make_tuple(値1, 値2, 値3, (...)); // tupleを生成する

型1 変数1;
型2 変数2;
型3 変数3;
...
tie(変数1, 変数2, 変数3, (...)) = tuple型の値;  // tupleを分解する
```

### 範囲for文でautoを使う

```cpp
for(auto 変数名 : 配列変数){
  // 変数名を使う
}
```